<html>
    <head>
    <meta charset='utf-8' />
    <title>Mapa Merindades 3D</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.css' rel='stylesheet' />
    <link href='css/estilobase.css' rel='stylesheet' />

    <script src='js/m3d.js'></script>
    <script>
        
        var map;
        function init() {
            //Añadir nuestro token!!
            mapboxgl.accessToken =
                'pk.eyJ1IjoiY3Jvbm9zZXIiLCJhIjoiY2xwd2s5cWNiMGo4bTJzczg0OHZkcXU2NyJ9.aUpxfCiDYd7SWMLfZytzXg';
             map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/cronoser/clqa5177w007001o339rt6lzs',
                center: [-3.52652, 42.93349], //Merindades
                zoom: 10,
                attributionControl: true, //para que se vea la licencia de OSM y otros
                pitch: 0,
                hash: true
            });

            map.addControl(new mapboxgl.AttributionControl({ compact: true }));
            map.addControl(new mapboxgl.NavigationControl());

            map.on('load', function () {
              add3D();
            }); //fin onload

        //
        const layerList = document.getElementById('menu');
        const inputs = layerList.getElementsByTagName('input');
        
        for (const input of inputs) {
            input.onclick = (layer) => {
              const layerId = layer.target.id;
            map.setStyle('mapbox://styles/mapbox/' + layerId);
        };
}


        } // final init
    </script>
    </head>

    <body onload="init()">
        <div class="panelTopIzquierda">
            <div>Categoría</div>
            <hr>
                <input checked!="true" onChange="activarCascadas(this.checked)" type="checkbox">Cascadas<br>
                <input onChange="activarEremitorios(this.checked)" type="checkbox">Eremitorios<br>
                <input onChange="activarNecropolis(this.checked)" type="checkbox">Necrópolis<br>
                <input onChange="activarParquesNaturales(this.checked)" type="checkbox">Parques Naturales<br>
                 <select onChange="zoomToRutas(this.value)">
                 <option value="17.51/42.97364/-3.756868">Cascadas</option>
                 <option selected value="19/42.9275012/-3.4881332">Castillos</option>
                 <option value="20.01/42.7810534/-3.3184737">Necrópolis</option>
             </select>
         </div>

         <div class="panelTopDerecha">  
            <div>Capa</div>
            <hr>
            <div>
                 <input type="radio" onClick="changeTerrain(this.value)" checked name="dem" value="mapbox-dem">
                 <label for="outdoors-v12">Outdoors</label><br>
                 <input type="radio" onClick="changeTerrain(this.value)" name="dem" value="icgc-dem">
                 <label for="outdoors-v12">ICGC</label><br>
                 <input id="satellite-streets-v12" type="radio" onClick="changeTerrain(this.value)" name="dem" value="IGN-BaseOrto"> 
                 <label for="satellite-streets-v12">Satélite</label><br>
                
             </div>
             <hr>
            <div>
                <input type="radio" onClick="changeTerrain(this.value)" name="dem" value="none">
                <label for="satellite-streets-v12">3D</label><br>
            </div>    
         </div>

        <div id="map"></div>
    </body>

    </html>