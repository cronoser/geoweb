<html>
    <head>
    <meta charset='utf-8' />
    <title>Mapa Merindades 3D</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.css' rel='stylesheet' />
    <link href='css/estilobase.css' rel='stylesheet' /> <!--estilo CSS nuestro-->

    <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v2.3.0/mapbox-gl-geocoder.min.js'></script> <!-- librerias geocoder -->
    <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v2.3.0/mapbox-gl-geocoder.css' type='text/css'> <!--librerias geocoder -->

    <script src='js/m3d.js'></script>
    <script>
        
        var map;
        function init() {
            //Añadir nuestro token!!
            mapboxgl.accessToken =
                'pk.eyJ1IjoiY3Jvbm9zZXIiLCJhIjoiY2xwd2s5cWNiMGo4bTJzczg0OHZkcXU2NyJ9.aUpxfCiDYd7SWMLfZytzXg';
             map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/cronoser/clqa5177w007001o339rt6lzs',
                center: [-3.476992410758, 42.9537576763814855], //Ubicación del centroide Merindades
                zoom: 9,
                attributionControl: true, //para que se vea la licencia de OSM y otros
                pitch: 0,
                hash: true
            });

            map.addControl(new MapboxGeocoder({ //buscador o geocoder
                accessToken: mapboxgl.accessToken
            }));
          //map.addControl(new mapboxgl.AttributionControl({ compact: true })); //duplica la atribución, no debe estar
            map.addControl(new mapboxgl.NavigationControl());
            map.addControl(new mapboxgl.ScaleControl()); //visualiza una escala en el mapa
            map.addControl(new mapboxgl.FullscreenControl()); //pantalla completa

            map.addControl(new mapboxgl.GeolocateControl({ //añadimos la geolocalización del usuario
                positionOptions: {
                enableHighAccuracy: true
                },
                trackUserLocation: true
            })); //fin geolocalización usuario

            map.on('load', function () {
              add3D();
            }); //fin onload



        } // final init
    </script>
    </head>

    <body onload="init()">
        <div class="panelTopIzquierda">
            <div>CATEGORÍAS</div>
            <hr>
                <input type="checkbox" checked="true" onChange="activarCascadas(this.checked)">Cascadas<br>
                <input type="checkbox" onChange="activarCasasdelParque(this.checked)">Casas del Parque<br>
                <input type="checkbox" onChange="activarParquesNaturales(this.checked)">Parques Naturales<br>
            <hr>
                <input type="checkbox" onChange="activarEremitorios(this.checked)">Eremitorios<br>
                <input type="checkbox" onChange="activarLoberas(this.checked)">Loberas<br>
                <input type="checkbox" onChange="activarNecropolis(this.checked)">Necrópolis<br>
            <hr>    
                 <select onChange="zoomToRutas(this.value)">
                 <option value="17.51/42.97364/-3.756868">Cascadas</option>
                 <option selected value="19/42.9275012/-3.4881332">Castillos</option>
                 <option value="20.01/42.7810534/-3.3184737">Necrópolis</option>
             </select>
         </div>

         <div class="panelTopDerecha">  
            <div>CAPAS</div>
            <hr>
            <div>
                 <input type="radio" onClick="changeTerrain(this.value)" checked name="dem" value="Outdoor">Outdoor<br>
                 <input type="radio" onClick="changeTerrain(this.value)" name="dem" value="Outdoor">IGCC<br>      
             </div>
             <hr>
             <input type="checkbox" onClick="cambiarCapa(this.checked)">Satélite<br>
             <hr>
             <input type="checkbox" onClick="cambiarCapa(this.checked)">3D<br> 
         </div>

        <div id="map"></div>
    </body>

    </html>